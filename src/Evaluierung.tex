\section{Die Evaluierung des Extraktionsalgorithmus}
\label{sec:evaluierung}

In diesem Kapitel wird untersucht, wie gut der Extraktionsalgorithmus funktioniert.
Da die Qualität der Regeln und damit der extrahierten Werte von den Lerndaten abhängt, werden diese als erstes
analysiert.
Anschließend werden die typischen Kenngrößen der binären Klassifikatoren bestimmt.
Abschließend werden für den Matcher relevanten Faktoren näher untersucht.\\
\newline
Sowohl für das Antrainieren der Extraktionsregeln als auch für die Evaluierung der Ergebnisse wurden Angebotsdaten
von idealo verwendet.
Für die Messung wurden 7500 Angebote von 50 Shops genutzt.
Je Shop wurden max.\ 50 Angebote für die Erstellung der Regeln und 100 Angebote für die Evaluierung als Testmenge
verwendet.
Die Auswahl der Shops erfolgte basierend auf der Shopübersicht\footnotemark von idealo.
\footnotetext{https://www.idealo.de/preisvergleich/AllePartner.html}
Für jedes Angebot existieren mindestens Angaben zum Titel, dem Preis und der SKU .
Eine HAN und eine Produktbeschreibung existieren am seltensten.

Alle nachfolgenden Messungen basieren auf einem Schnappschuss der Angebotsdaten, sowie der verlinkten Angebotswebseiten.
Die Links wurden nicht durch die URL-Cleaner-Komponente bereinigt, da sonst die Gefahr besteht, dass die
Angebotsdaten von idealo mit denen von der Webseite nicht übereinstimmen.
Deshalb wurden nicht mehr als 150 Angebote je Shop heruntergeladen.

Die Genauigkeit des Parser wurde bestimmt, indem die Extraktionsregeln auf der Testmenge angewandt wurden.
Die Treffergenauigkeit wurde dabei in Abhängigkeit der Menge der Angebote \textit{SaS}, welche für das Anlernen
verwendet wurden, sowie des in Kapitel~\ref{subsec:bewertungssystem} eingeführten Filter-Schwellwertes \textit{F}
bestimmt.
In der Tabelle~\ref{tab:accuracy-precision} sind die Treffergenauigkeit (\textit{accuracy}) und die Genauigkeit
(\textit{precision}) aufgeführt.
Die Treffergenauigkeit gibt an, wie oft ein Produktattribut korrekt erfasst wurde und entspricht in diesem Fall der
Trefferquote (\textit{recall}).
Die Genauigkeit berücksichtigt zusätzlich die Fälle, in denen der Parser explizit nichts zurück gibt.

\begin{table}[h]
    \centering
    \begin{tabular}{ c | c c c | c c c }
        &   \multicolumn{3}{c}{\textit{Treffergenauigkeit in \%}}    &   \multicolumn{3}{c}{\textit{Genauigkeit in \%}} \\
        \textbf{F\textbackslash SaS} & \textbf{10} & \textbf{20} & \textbf{50} & \textbf{10} & \textbf{20} & \textbf{50}  \\
        \hline
        \textbf{0}       &   50.59 &   50.78 &   51.07         &   72.73 &   70.81 &   69.62 \\
        \textbf{0.5}     &   52.12 &   53.50 &   \textbf{53.98}&   88.66 &   90.39 &   91.22 \\
        \textbf{0.6}     &   51.87 &   53.07 &   53.15         &   94.15 &   94.03 &   94.93 \\
        \textbf{0.7}     &   50.15 &   51.37 &   52.02         &   96.15 &   96.39 &   95.86 \\
        \textbf{0.8}     &   47.92 &   49.69 &   50.05         &   97.84 &   97.81 &   97.76 \\
        \textbf{0.9}     &   44.61 &   46.92 &   46.57         &   98.16 &   98.14 &   98.42 \\
        \textbf{1.0}     &   41.48 &   39.27 &   36.00         &   98.17 &   97.64 &   \textbf{98.90}

    \end{tabular}
    \caption{Treffergenauigkeit und Genauigkeit bei unterschiedlichen Konfigurationen}
    \label{tab:accuracy-precision}
\end{table}

Die vom Parser extrahierten Angebotsinformationen werden von der Matcher-Komponente für den ähnlichkeitsbasierten
Vergleich verwendet.
Dazu ist es wichtig, eine gute Balance zwischen Treffergenauigkeit und Genauigkeit zu finden.
Da es nicht unbedingt darum geht, dass die extahierten Informationen \textit{exakt} dem Schema von idealo entspricht,
ist die Treffergenauigkeit etwas wichtiger, als die Genauigkeit.
Daher scheinen die besten Ergebnisse bei einem Schwellwert von $F=0.6$ und $SaS=50$ erreicht zu werden.